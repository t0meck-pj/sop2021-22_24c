#include <iostream>
#include <fstream>
#include <iomanip>


int main() {
	//TODO: Dodac "adres_w_pliku"
	
	setlocale(LC_ALL, "Polish");
	
	std::fstream hexFile;
	char sign;
	char signArray[16];
	int counter = 0;
	int arrayCounter = 0;
	
	hexFile.open("input.txt", std::ios::in);

	if (hexFile.is_open()) {
		std::cout << std::hex << std::uppercase << std::setfill('0');
		
		while (hexFile.get(sign)) {
			signArray[counter] = sign;
			std::cout << std::setw(2) << (int)sign << " ";
			counter++;
			if (counter % 16 == 0) {
				std::cout << "   ";
				for (int i = 0; i < counter; i++) {
					if (std::isprint(signArray[i])) {
						std::cout << signArray[i] << " ";
					}
					else {
						std::cout << ". ";
					}
				}
				counter = 0;
				std::cout << std::endl;
			}
			if (hexFile.peek() == EOF) {
				arrayCounter = counter;
				while (counter % 16 != 0) {
					std::cout << "00 ";
					counter++;
				}
				
				std::cout << "   ";
				
				for (int i = 0; i < arrayCounter; i++) {
					if (std::isprint(signArray[i])) {
						std::cout << signArray[i] << " ";
					}
					else {
						std::cout << ". ";
					}
				}
			}
		}		
	}
	else {
		perror("Can't open file");
	}
	
	hexFile.close();


	return 0;
}